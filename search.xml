<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>005 实验-Pcanywhere</title>
      <link href="/2020/01/07/005-shi-yan-pcanywhere/"/>
      <url>/2020/01/07/005-shi-yan-pcanywhere/</url>
      
        <content type="html"><![CDATA[<p>005 实验-Pcanywhere</p><h2 id="Contents"><a href="#Contents" class="headerlink" title="Contents"></a>Contents</h2><ul><li><a href="">Contents</a></li><li><a href="">题目</a></li><li><a href="">过程</a></li></ul><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p>利用第三放服务（Pcanywhere）提升权限的方法<br><img src="/2020/01/07/005-shi-yan-pcanywhere/f71ff1bf4a88863bf2ae2b1b7e4be3fc.png" alt=""></p><h2 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h2><ol><li>在实验中访问<a href="http://172.16.12.2/index.php，成功连接到webshell" target="_blank" rel="noopener">http://172.16.12.2/index.php，成功连接到webshell</a><br><img src="/2020/01/07/005-shi-yan-pcanywhere/9e0585aaae6b73fafe42d13548d3c58e.png" alt=""><br><img src="/2020/01/07/005-shi-yan-pcanywhere/eb1faf6b71fb6a15f8a035cc31f8fa4b.png" alt=""></li><li>分析该服务器端口服务<br><img src="/2020/01/07/005-shi-yan-pcanywhere/e89f4fe707173434a518223cf5fa3f0f.png" alt=""><br>5631端口是开启的，是pcanywhere服务</li><li>去找pcanywhere的密码存储的文件<br><img src="/2020/01/07/005-shi-yan-pcanywhere/2df63b4545ba7f06ed12170ebb12d714.png" alt=""><br>该文件一般是以.CIF为后缀名，本环境中的密码文件为：PCA.test.CIF<br>下载该文件</li><li>获取账号密码<br><img src="/2020/01/07/005-shi-yan-pcanywhere/1f2d53e8a2598347cf39f27b81268637.png" alt=""></li><li>用pcanywhere登录<br><img src="/2020/01/07/005-shi-yan-pcanywhere/085c38112cc00ff46e02e436f8fb1f6e.png" alt=""><br>打开这个刚创建的新主控端<br><img src="/2020/01/07/005-shi-yan-pcanywhere/ca987d1cda571894be1494a4176ed5dd.png" alt=""><br>输入账号密码<br><img src="/2020/01/07/005-shi-yan-pcanywhere/fe1ac9f4ba009b99582c9066ab37cbf6.png" alt=""><br>连接上了，屏幕是花的<br><img src="/2020/01/07/005-shi-yan-pcanywhere/a3aeb7419a97a84ee411610a712883ad.png" alt=""><br>反正成功了</li></ol><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>004 实验 -PR提权</title>
      <link href="/2020/01/07/004-shi-yan-pr-ti-quan/"/>
      <url>/2020/01/07/004-shi-yan-pr-ti-quan/</url>
      
        <content type="html"><![CDATA[<p>004 实验 -PR提权</p><h2 id="Contents"><a href="#Contents" class="headerlink" title="Contents"></a>Contents</h2><ul><li><a href="">Contents</a></li><li><a href="">实验</a></li><li><a href="">过程</a></li></ul><h2 id="实验"><a href="#实验" class="headerlink" title="实验"></a>实验</h2><p><img src="/2020/01/07/004-shi-yan-pr-ti-quan/80fb0dad8a4b01a096584074e0ebbd69.png" alt=""></p><h2 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h2><ol><li>首先通过菜刀连接上</li></ol><p><img src="/2020/01/07/004-shi-yan-pr-ti-quan/f4504305ca3d51477950ed7d10130c58.png" alt=""></p><ol start="2"><li>访问虚拟终端，查看一下权限<br><img src="/2020/01/07/004-shi-yan-pr-ti-quan/8284934a8be272725dd9f95676288c72.png" alt=""><br><img src="/2020/01/07/004-shi-yan-pr-ti-quan/8b909cd553be871e2df6fd8eab67b3e4.png" alt=""><br>发现拒绝访问，有可能是因为做了限制，是这里无法访问到cmd.exe<br>所以我们手动上传一个cmd.exe<br><img src="/2020/01/07/004-shi-yan-pr-ti-quan/29c3133ab012e7e9036f91ec1b7c5c26.png" alt=""><br>访问这个cmd.exe<br><img src="/2020/01/07/004-shi-yan-pr-ti-quan/401c4774741aadf0bba8bd0112366b6f.png" alt=""><br><img src="/2020/01/07/004-shi-yan-pr-ti-quan/6be7978b8e14280dc162b890b8f3a9d3.png" alt=""><br>权限是service，权限不高</li><li>要进行提权<br>首先查看systeminfo，看看什么系统，打了什么补丁<br><img src="/2020/01/07/004-shi-yan-pr-ti-quan/521585d7262799bceff230a3b89a6f7e.png" alt=""><br><img src="/2020/01/07/004-shi-yan-pr-ti-quan/e54c802f97f74a0135cc1a785b48ad8d.png" alt=""></li><li>找一下什么提权漏洞可以利用<br><img src="/2020/01/07/004-shi-yan-pr-ti-quan/854a2a94d93212403c98b1bf72d818ee.png" alt=""><br><img src="/2020/01/07/004-shi-yan-pr-ti-quan/fedd6933da4cba365e4d2e02d47367a6.png" alt=""><br><img src="/2020/01/07/004-shi-yan-pr-ti-quan/796e3cd9f5d9c5225a7a259fbb78401d.png" alt=""><br>发现可以用pr提权</li><li>上传pr提权工具<br><img src="/2020/01/07/004-shi-yan-pr-ti-quan/ed8c0437822f373760e7813a82e6475d.png" alt=""></li><li>查看pr工具的使用<br><img src="/2020/01/07/004-shi-yan-pr-ti-quan/281da3b37dac5696a3a6addd0b585289.png" alt=""><br>进行提权 (不知道为什么第一次会超时)<br><img src="/2020/01/07/004-shi-yan-pr-ti-quan/03c1f2fbc40ef4b89791120ae16dcff1.png" alt=""><br>这个时候的用户权限提高了</li><li>利用pr程序添加管理员权限的用户<br>添加用户<br><img src="/2020/01/07/004-shi-yan-pr-ti-quan/40bab25c5ea54e888799b78043d92531.png" alt=""><br>加入到管理员<br><img src="/2020/01/07/004-shi-yan-pr-ti-quan/6391d6839065f10b55c52f02fb71d8dd.png" alt=""></li><li>查看3389远程连接端口是否开放<br><img src="/2020/01/07/004-shi-yan-pr-ti-quan/8fa296fd320d554b7879c5b3ba7495b0.png" alt=""><br>发现3389端口未开放，打开3389<br>传入打开3389的脚本<br><img src="/2020/01/07/004-shi-yan-pr-ti-quan/041a54ec0fef37b54a74a4114d4e88c1.png" alt=""><br>运行它<br><img src="/2020/01/07/004-shi-yan-pr-ti-quan/ae4aa5e5cf46f9c10a1560b661be68f9.png" alt=""><br>查看3389端口已经打开<br><img src="/2020/01/07/004-shi-yan-pr-ti-quan/caacbf98e9cc73446bba5663168ccdf7.png" alt=""></li><li>远程登录<br><img src="/2020/01/07/004-shi-yan-pr-ti-quan/3427ba43569bb29fe30980ecbcc697da.png" alt=""><br><img src="/2020/01/07/004-shi-yan-pr-ti-quan/d7b5e93612b45d99259cfa2a8e1b275e.png" alt=""><br>成功登录<br><img src="/2020/01/07/004-shi-yan-pr-ti-quan/5a845cba82c3eeb6b8dbacb380480a3c.png" alt=""></li><li>这里面有个IIS6<br>有个IIS6的</li></ol><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>安装MD编辑器</title>
      <link href="/2019/12/28/an-zhuang-md-bian-ji-qi/"/>
      <url>/2019/12/28/an-zhuang-md-bian-ji-qi/</url>
      
        <content type="html"><![CDATA[<h1 id="安装MD编辑器"><a href="#安装MD编辑器" class="headerlink" title="安装MD编辑器"></a>安装MD编辑器</h1><p>推荐两款MD编辑器，MarkdownPad 2和Typora，还有个印象笔记，用着也不错</p><ul><li>MarkdownPad 2下载地址：</li></ul><blockquote><p><a href="http://www.markdownpad.com/" target="_blank" rel="noopener">http://www.markdownpad.com/</a></p></blockquote><ul><li>Typora下载地址：</li></ul><blockquote><p><a href="https://typora.io/#windows" target="_blank" rel="noopener">https://typora.io/#windows</a></p></blockquote><p>MarkdownPad 2下载安装打开后若出现如下画面：</p><p><img src="/2019/12/28/an-zhuang-md-bian-ji-qi/ss.png" alt=""></p><p>还需要安装一个程序awesomium，markdown官网下载，下载链接如下：</p><blockquote><p><a href="https://markdownpad.com/download/awesomium_v1.6.6_sdk_win.exe" target="_blank" rel="noopener">https://markdownpad.com/download/awesomium_v1.6.6_sdk_win.exe</a></p></blockquote><p>Typora和印象笔记有中文版的，刚接触MD编辑的，还是推荐使用这两个。</p><script>        document.querySelectorAll('.github-emoji')          .forEach(el => {            if (!el.dataset.src) { return; }            const img = document.createElement('img');            img.style = 'display:none !important;';            img.src = el.dataset.src;            img.addEventListener('error', () => {              img.remove();              el.style.color = 'inherit';              el.style.backgroundImage = 'none';              el.style.background = 'none';            });            img.addEventListener('load', () => {              img.remove();            });            document.body.appendChild(img);          });      </script>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
